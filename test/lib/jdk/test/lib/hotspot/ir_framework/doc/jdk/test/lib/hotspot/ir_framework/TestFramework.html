<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Wed Apr 14 13:12:12 CEST 2021 -->
<title>TestFramework</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2021-04-14">
<meta name="description" content="declaration: package: jdk.test.lib.hotspot.ir_framework, class: TestFramework">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">jdk.test.lib.hotspot.ir_framework</a></div>
<h1 title="Class TestFramework" class="title">Class TestFramework</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">jdk.test.lib.hotspot.ir_framework.TestFramework</div>
</div>
<section class="description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">TestFramework</span>
<span class="extends-implements">extends <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">This class represents the main entry point to the test framework whose main purpose is to perform regex-based checks on
 the C2 IR shape emitted by the VM flags <code>-XX:+PrintIdeal</code> and <code>-XX:+PrintOptoAssembly</code>. The framework can
 also be used for other non-IR matching (and non-compiler) tests by providing easy to use annotations for commonly used
 testing patterns and compiler control flags.
 <p>
 The framework offers various annotations to control how your test code should be invoked and being checked. There are
 three kinds of tests depending on how much control is needed over the test invocation:
 <b>Base tests</b> (see <a href="Test.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Test</code></a>), <b>checked tests</b> (see <a href="Check.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Check</code></a>), and <b>custom run tests</b>
 (see <a href="Run.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Run</code></a>). Each type of test needs to define a unique <i>test method</i> that specifies a <a href="Test.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@Test</code></a>
 annotation which represents the test code that is eventually executed by the test framework. More information about
 the usage and how to write different tests can be found in <a href="Test.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Test</code></a>, <a href="Check.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Check</code></a>, and <a href="Run.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Run</code></a>.
 <p>
 Each test method can specify an arbitrary number of IR rules. This is done by using <a href="IR.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@IR</code></a> annotations which
 can define regex strings that are matched on the output of <code>-XX:+PrintIdeal</code> and <code>-XX:+PrintOptoAssembly</code>.
 The matching is done after the test method was (optionally) warmed up and compiled. More information about the usage
 and how to write different IR rules can be found at <a href="IR.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>IR</code></a>.
 <p>
 This framework should be used with the following JTreg setup in your Test.java file in package <i>some.package</i>:
 <pre>
 @library /test/lib
 @run driver some.package.Test
 </pre>
 Note that even though the framework uses the Whitebox API internally, it is not required to build and enabel it in the
 JTreg test if the test itself is not utilizing any Whitebox features directly.
 <p>
 To specify additional flags, use <a href="#runWithFlags(java.lang.String...)"><code>runWithFlags(String...)</code></a>, <a href="#addFlags(java.lang.String...)"><code>addFlags(String...)</code></a>,
 <a href="#addScenarios(jdk.test.lib.hotspot.ir_framework.Scenario...)"><code>addScenarios(Scenario...)</code></a>, or <a href="#runWithScenarios(jdk.test.lib.hotspot.ir_framework.Scenario...)"><code>runWithScenarios(Scenario...)</code></a> where the scenarios can also be used
 to run different flag combinations (instead of specifying multiple JTreg <code>@run</code> entries).
 <p>
 After annotating your test code with the framework specific annotations, the framework needs to be invoked from the
 <code>main()</code> method of your JTreg test. There are two ways to do so. The first way is by calling the various
 <code>runXX()</code> methods of <a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework"><code>TestFramework</code></a>. The second way, which gives more control, is to create a new
 <code>TestFramework</code> builder object on which <a href="#start()"><code>start()</code></a> needs to be eventually called to start the testing.
 <p>
 The framework is called from the <i>driver VM</i> in which the JTreg test is initially run by specifying <code>
 @run driver</code> in the JTreg header. This strips all additionally specified JTreg VM and Javaoptions.
 The framework creates a new <i>flag VM</i> with all these flags added again in order to figure out which flags are
 required to run the tests specified in the test class (e.g. <code>-XX:+PrintIdeal</code> and <code>-XX:+PrintOptoAssembly</code>
 for IR matching).
 <p>
 After the flag VM terminates, it starts a new <i>test VM</i> which performs the execution of the specified
 tests in the test class as described in <a href="Test.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Test</code></a>, <a href="Check.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Check</code></a>, and <a href="Run.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Run</code></a>.
 <p>
 In a last step, once the test VM has terminated without exceptions, IR matching is performed if there are any IR
 rules and if no VM flags disable it (e.g. not running with <code>-Xint</code>, see <a href="IR.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>IR</code></a> for more details).
 The IR regex matching is done on the output of <code>-XX:+PrintIdeal</code> and <code>-XX:+PrintOptoAssembly</code> by parsing
 the hotspot_pid file of the test VM. Failing IR rules are reported by throwing a <a href="IRViolationException.html" title="class in jdk.test.lib.hotspot.ir_framework"><code>IRViolationException</code></a>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd><a href="Test.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Test</code></a>, 
<a href="Check.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Check</code></a>, 
<a href="Run.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>Run</code></a>, 
<a href="IR.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>IR</code></a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#JTREG_WHITELIST_FLAGS" class="member-name-link">JTREG_WHITELIST_FLAGS</a></code></div>
<div class="col-last even-row-color">
<div class="block">JTreg can define additional VM (-Dtest.vm.opts) and Javaoptions (-Dtest.java.opts) flags.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">TestFramework</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Creates an instance acting as a builder to test the class from which this constructor was invoked from.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.lang.Class)" class="member-name-link">TestFramework</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;testClass)</code></div>
<div class="col-last odd-row-color">
<div class="block">Creates an instance acting as a builder to test <code>testClass</code>.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework">TestFramework</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addFlags(java.lang.String...)" class="member-name-link">addFlags</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;flags)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add VM flags to be used for the test VM.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework">TestFramework</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addHelperClasses(java.lang.Class...)" class="member-name-link">addHelperClasses</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;helperClasses)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add helper classes that can specify additional compile command annotations (<a href="ForceCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@ForceCompile</code></a>,
 <a href="DontCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@DontCompile</code></a>, <a href="ForceInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@ForceInline</code></a>, <a href="DontInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@DontInline</code></a>) to be applied
 while testing <code>testClass</code> (also see description of <a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework"><code>TestFramework</code></a>).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework">TestFramework</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addScenarios(jdk.test.lib.hotspot.ir_framework.Scenario...)" class="member-name-link">addScenarios</a>&#8203;(<a href="Scenario.html" title="class in jdk.test.lib.hotspot.ir_framework">Scenario</a>...&nbsp;scenarios)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add scenarios to be used for the test VM.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#assertCompiled(java.lang.reflect.Method)" class="member-name-link">assertCompiled</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks if <code>m</code> is compiled at any level.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#assertCompiledAtLevel(java.lang.reflect.Method,jdk.test.lib.hotspot.ir_framework.CompLevel)" class="member-name-link">assertCompiledAtLevel</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m,
 <a href="CompLevel.html" title="enum class in jdk.test.lib.hotspot.ir_framework">CompLevel</a>&nbsp;compLevel)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Verifies that <code>m</code> is compiled at the specified <code>compLevel</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#assertCompiledByC1(java.lang.reflect.Method)" class="member-name-link">assertCompiledByC1</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Verifies that <code>m</code> is compiled with C1.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#assertCompiledByC2(java.lang.reflect.Method)" class="member-name-link">assertCompiledByC2</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Verifies that <code>m</code> is compiled with C2.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#assertDeoptimizedByC1(java.lang.reflect.Method)" class="member-name-link">assertDeoptimizedByC1</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Verifies that <code>m</code> was deoptimized after being C1 compiled.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#assertDeoptimizedByC2(java.lang.reflect.Method)" class="member-name-link">assertDeoptimizedByC2</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Verifies that <code>m</code> was deoptimized after being C2 compiled.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#assertNotCompiled(java.lang.reflect.Method)" class="member-name-link">assertNotCompiled</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Checks if <code>m</code> is not compiled at any level.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#compile(java.lang.reflect.Method,jdk.test.lib.hotspot.ir_framework.CompLevel)" class="member-name-link">compile</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m,
 <a href="CompLevel.html" title="enum class in jdk.test.lib.hotspot.ir_framework">CompLevel</a>&nbsp;compLevel)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Compile <code>m</code> at compilation level <code>compLevel</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#deoptimize(java.lang.reflect.Method)" class="member-name-link">deoptimize</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Deoptimize <code>m</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getLastTestVMOutput()" class="member-name-link">getLastTestVMOutput</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Get the VM output of the test VM.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isC1Compiled(java.lang.reflect.Method)" class="member-name-link">isC1Compiled</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a boolean indicating if <code>m</code> is compiled with C1.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isC2Compiled(java.lang.reflect.Method)" class="member-name-link">isC2Compiled</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a boolean indicating if <code>m</code> is compiled with C2.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isCompiled(java.lang.reflect.Method)" class="member-name-link">isCompiled</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a boolean indicating if <code>m</code> is compiled at any level.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#isCompiledAtLevel(java.lang.reflect.Method,jdk.test.lib.hotspot.ir_framework.CompLevel)" class="member-name-link">isCompiledAtLevel</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m,
 <a href="CompLevel.html" title="enum class in jdk.test.lib.hotspot.ir_framework">CompLevel</a>&nbsp;compLevel)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a boolean indicating if <code>m</code> is compiled at the specified <code>compLevel</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#run()" class="member-name-link">run</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Tests the class from which this method was invoked from.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#run(java.lang.Class)" class="member-name-link">run</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;testClass)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Tests <code>testClass</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#runWithFlags(java.lang.Class,java.lang.String...)" class="member-name-link">runWithFlags</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;testClass,
 <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;flags)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Tests <code>testClass</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#runWithFlags(java.lang.String...)" class="member-name-link">runWithFlags</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;flags)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Tests the class from which this method was invoked from.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#runWithHelperClasses(java.lang.Class,java.lang.Class...)" class="member-name-link">runWithHelperClasses</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;testClass,
 <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;helperClasses)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Tests <code>testClass</code> which uses <code>helperClasses</code> that can specify additional compile command annotations
 (<a href="ForceCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@ForceCompile</code></a>, <a href="DontCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@DontCompile</code></a>, <a href="ForceInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@ForceInline</code></a>,
 <a href="DontInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@DontInline</code></a>) to be applied while testing <code>testClass</code> (also see description of
 <a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework"><code>TestFramework</code></a>).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#runWithScenarios(java.lang.Class,jdk.test.lib.hotspot.ir_framework.Scenario...)" class="member-name-link">runWithScenarios</a>&#8203;(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;testClass,
 <a href="Scenario.html" title="class in jdk.test.lib.hotspot.ir_framework">Scenario</a>...&nbsp;scenarios)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Tests <code>testClass</code> A test VM is called for each scenario in <code>scenarios</code> by using the specified flags
 in the scenario.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#runWithScenarios(jdk.test.lib.hotspot.ir_framework.Scenario...)" class="member-name-link">runWithScenarios</a>&#8203;(<a href="Scenario.html" title="class in jdk.test.lib.hotspot.ir_framework">Scenario</a>...&nbsp;scenarios)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Tests the class from which this method was invoked from.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework">TestFramework</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDefaultWarmup(int)" class="member-name-link">setDefaultWarmup</a>&#8203;(int&nbsp;defaultWarmup)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set a new default warm-up (overriding the framework default of 2000 at
 <a href="TestFrameworkExecution.html#WARMUP_ITERATIONS"><code>TestFrameworkExecution.WARMUP_ITERATIONS</code></a>) to be applied for all tests that do not specify an explicit
 warm-up with <a href="Warmup.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@Warmup</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#start()" class="member-name-link">start</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Start the testing of the implicitly (by <a href="#%3Cinit%3E()"><code>TestFramework()</code></a>) or explicitly (by <a href="#%3Cinit%3E(java.lang.Class)"><code>TestFramework(Class)</code></a>)
 set test class.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="JTREG_WHITELIST_FLAGS">
<h3>JTREG_WHITELIST_FLAGS</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">JTREG_WHITELIST_FLAGS</span></div>
<div class="block">JTreg can define additional VM (-Dtest.vm.opts) and Javaoptions (-Dtest.java.opts) flags. IR verification is only
 performed when all these additional JTreg flags (does not include additionally added framework and scenario flags
 by user code) are whitelisted.

 A flag is whitelisted if it is a property flag (starting with -D), -ea, -esa, or if the flag name contains any of
 the entries of this list as a substring (partial match).</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>TestFramework</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TestFramework</span>()</div>
<div class="block">Creates an instance acting as a builder to test the class from which this constructor was invoked from.
 Use this constructor if you want to use multiple run options (flags, helper classes, scenarios).
 Use the associated add methods (<a href="#addFlags(java.lang.String...)"><code>addFlags(String...)</code></a>, <a href="#addScenarios(jdk.test.lib.hotspot.ir_framework.Scenario...)"><code>addScenarios(Scenario...)</code></a>,
 <a href="#addHelperClasses(java.lang.Class...)"><code>addHelperClasses(Class...)</code></a>) to set up everything and then start the testing by invoking <a href="#start()"><code>start()</code></a>.</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.lang.Class)">
<h3>TestFramework</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TestFramework</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;testClass)</span></div>
<div class="block">Creates an instance acting as a builder to test <code>testClass</code>.
 Use this constructor if you want to use multiple run options (flags, helper classes, scenarios).
 Use the associated add methods (<a href="#addFlags(java.lang.String...)"><code>addFlags(String...)</code></a>, @link #addScenarios(Scenario...)},
 <a href="#addHelperClasses(java.lang.Class...)"><code>addHelperClasses(Class...)</code></a>) to set up everything and then start the testing by invoking <a href="#start()"><code>start()</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>testClass</code> - the class to be tested by the framework.</dd>
<dt>See Also:</dt>
<dd><a href="#%3Cinit%3E()"><code>TestFramework()</code></a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="run()">
<h3>run</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">run</span>()</div>
<div class="block">Tests the class from which this method was invoked from.</div>
</section>
</li>
<li>
<section class="detail" id="run(java.lang.Class)">
<h3>run</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">run</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;testClass)</span></div>
<div class="block">Tests <code>testClass</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>testClass</code> - the class to be tested by the framework.</dd>
<dt>See Also:</dt>
<dd><a href="#run()"><code>run()</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="runWithFlags(java.lang.String...)">
<h3>runWithFlags</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">runWithFlags</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;flags)</span></div>
<div class="block">Tests the class from which this method was invoked from. The test VM is called with the specified <code>flags</code>.
 <ul>
     <li><p>The <code>flags</code> override any set VM or Javaoptions flags by JTreg by default.<p>
            Use <code>-DPreferCommandLineFlags=true</code> if you want to prefer the JTreg VM and  Javaoptions flags over
            the specified <code>flags</code> of this method.</li>
     <li><p>If you want to run your entire JTreg test with additional flags, use this method.</li>
     <li><p>If you want to run your JTreg test with multiple flag combinations, use
            <a href="#runWithScenarios(jdk.test.lib.hotspot.ir_framework.Scenario...)"><code>runWithScenarios(Scenario...)</code></a></li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>flags</code> - VM flags to be used for the test VM.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="runWithFlags(java.lang.Class,java.lang.String...)">
<h3>runWithFlags</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">runWithFlags</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;testClass,
 <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;flags)</span></div>
<div class="block">Tests <code>testClass</code>. The test VM is called with the specified <code>flags</code>.
 <ul>
     <li><p>The <code>flags</code> override any set VM or Javaoptions flags by JTreg by default.<p>
            Use <code>-DPreferCommandLineFlags=true</code> if you want to prefer the JTreg VM and  Javaoptions flags over
            the specified <code>flags</code> of this method.</li>
     <li><p>If you want to run your entire JTreg test with additional flags, use this method.</li>
     <li><p>If you want to run your JTreg test with multiple flag combinations, use
            <a href="#runWithScenarios(jdk.test.lib.hotspot.ir_framework.Scenario...)"><code>runWithScenarios(Scenario...)</code></a></li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>testClass</code> - the class to be tested by the framework.</dd>
<dd><code>flags</code> - VM flags to be used for the test VM.</dd>
<dt>See Also:</dt>
<dd><a href="#runWithFlags(java.lang.String...)"><code>runWithFlags(String...)</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="runWithHelperClasses(java.lang.Class,java.lang.Class...)">
<h3>runWithHelperClasses</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">runWithHelperClasses</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;testClass,
 <a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;helperClasses)</span></div>
<div class="block">Tests <code>testClass</code> which uses <code>helperClasses</code> that can specify additional compile command annotations
 (<a href="ForceCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@ForceCompile</code></a>, <a href="DontCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@DontCompile</code></a>, <a href="ForceInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@ForceInline</code></a>,
 <a href="DontInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@DontInline</code></a>) to be applied while testing <code>testClass</code> (also see description of
 <a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework"><code>TestFramework</code></a>).
 <ul>
     <li><p>If a helper class is not in the same file as the test class, make sure that JTreg compiles it by using
     @compile in the JTreg header comment block.</li>
     <li><p>If a class is used by the test class that does not specify any compile command annotations, you do not
     need to include it in <code>helperClasses</code>. If no helper class specifies any compile commands, consider
     using <a href="#run()"><code>run()</code></a> or <a href="#run(java.lang.Class)"><code>run(Class)</code></a>.</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>testClass</code> - the class to be tested by the framework.</dd>
<dd><code>helperClasses</code> - helper classes containing compile command annotations (<a href="ForceCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>ForceCompile</code></a>,
                      <a href="DontCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>DontCompile</code></a>, <a href="ForceInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>ForceInline</code></a>, <a href="DontInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>DontInline</code></a>) to be applied
                      while testing <code>testClass</code> (also see description of <a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework"><code>TestFramework</code></a>).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="runWithScenarios(jdk.test.lib.hotspot.ir_framework.Scenario...)">
<h3>runWithScenarios</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">runWithScenarios</span>&#8203;<span class="parameters">(<a href="Scenario.html" title="class in jdk.test.lib.hotspot.ir_framework">Scenario</a>...&nbsp;scenarios)</span></div>
<div class="block">Tests the class from which this method was invoked from. A test VM is called for each scenario in <code>scenarios</code>
 by using the specified flags in the scenario.
 <ul>
     <li><p>If there is only one scenario, consider using <a href="#runWithFlags(java.lang.String...)"><code>runWithFlags(String...)</code></a>.</li>
     <li><p>The scenario flags override any VM or Javaoptions set by JTreg by default.<p>
            Use <code>-DPreferCommandLineFlags=true</code> if you want to prefer the Java and VM options over the
            scenario flags.</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>scenarios</code> - scenarios which specify specific flags for the test VM.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="runWithScenarios(java.lang.Class,jdk.test.lib.hotspot.ir_framework.Scenario...)">
<h3>runWithScenarios</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">runWithScenarios</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;testClass,
 <a href="Scenario.html" title="class in jdk.test.lib.hotspot.ir_framework">Scenario</a>...&nbsp;scenarios)</span></div>
<div class="block">Tests <code>testClass</code> A test VM is called for each scenario in <code>scenarios</code> by using the specified flags
 in the scenario.
 <ul>
     <li><p>If there is only one scenario, consider using <a href="#runWithFlags(java.lang.String...)"><code>runWithFlags(String...)</code></a>.</li>
     <li><p>The scenario flags override any VM or Javaoptions set by JTreg by default.<p>
            Use <code>-DPreferCommandLineFlags=true</code> if you want to prefer the Java and VM options over the
            scenario flags.</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>testClass</code> - the class to be tested by the framework.</dd>
<dd><code>scenarios</code> - scenarios which specify specific flags for the test VM.</dd>
<dt>See Also:</dt>
<dd><a href="#runWithScenarios(jdk.test.lib.hotspot.ir_framework.Scenario...)"><code>runWithScenarios(Scenario...)</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addFlags(java.lang.String...)">
<h3>addFlags</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework">TestFramework</a></span>&nbsp;<span class="element-name">addFlags</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;flags)</span></div>
<div class="block">Add VM flags to be used for the test VM. These flags override any VM or Javaoptions set by JTreg by default.<p>
 Use <code>-DPreferCommandLineFlags=true</code> if you want to prefer the VM or Javaoptions over the scenario flags.

 <p>
 The testing can be started by invoking <a href="#start()"><code>start()</code></a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>flags</code> - VM options to be applied to the test VM.</dd>
<dt>Returns:</dt>
<dd>the same framework instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addHelperClasses(java.lang.Class...)">
<h3>addHelperClasses</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework">TestFramework</a></span>&nbsp;<span class="element-name">addHelperClasses</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;...&nbsp;helperClasses)</span></div>
<div class="block">Add helper classes that can specify additional compile command annotations (<a href="ForceCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@ForceCompile</code></a>,
 <a href="DontCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@DontCompile</code></a>, <a href="ForceInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@ForceInline</code></a>, <a href="DontInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@DontInline</code></a>) to be applied
 while testing <code>testClass</code> (also see description of <a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework"><code>TestFramework</code></a>).
 <ul>
     <li><p>If a helper class is not in the same file as the test class, make sure that JTreg compiles it by using
            <code>@compile</code> in the JTreg header comment block.</li>
     <li><p>If a class is used by the test class that does not specify any compile command annotations, you do not
            need to include it with this method. If no helper class specifies any compile commands, you do
            not need to call this method at all.</li>
 </ul>

 <p>
 The testing can be started by invoking <a href="#start()"><code>start()</code></a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>helperClasses</code> - helper classes containing compile command annotations (<a href="ForceCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>ForceCompile</code></a>,
                      <a href="DontCompile.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>DontCompile</code></a>, <a href="ForceInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>ForceInline</code></a>, <a href="DontInline.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>DontInline</code></a>) to be applied
                      while testing <code>testClass</code> (also see description of <a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework"><code>TestFramework</code></a>).</dd>
<dt>Returns:</dt>
<dd>the same framework instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addScenarios(jdk.test.lib.hotspot.ir_framework.Scenario...)">
<h3>addScenarios</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework">TestFramework</a></span>&nbsp;<span class="element-name">addScenarios</span>&#8203;<span class="parameters">(<a href="Scenario.html" title="class in jdk.test.lib.hotspot.ir_framework">Scenario</a>...&nbsp;scenarios)</span></div>
<div class="block">Add scenarios to be used for the test VM. A test VM is called for each scenario in <code>scenarios</code> by using the
 specified VM flags in the scenario. The scenario flags override any flags set by <a href="#addFlags(java.lang.String...)"><code>addFlags(String...)</code></a>
 and thus also override any VM or Javaoptions set by JTreg by default.<p>
 Use <code>-DPreferCommandLineFlags=true</code> if you want to prefer the VM and Javaoptions over the scenario flags.

 <p>
 The testing can be started by invoking <a href="#start()"><code>start()</code></a></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>scenarios</code> - scenarios which specify specific flags for the test VM.</dd>
<dt>Returns:</dt>
<dd>the same framework instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="start()">
<h3>start</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">start</span>()</div>
<div class="block">Start the testing of the implicitly (by <a href="#%3Cinit%3E()"><code>TestFramework()</code></a>) or explicitly (by <a href="#%3Cinit%3E(java.lang.Class)"><code>TestFramework(Class)</code></a>)
 set test class.</div>
</section>
</li>
<li>
<section class="detail" id="setDefaultWarmup(int)">
<h3>setDefaultWarmup</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="TestFramework.html" title="class in jdk.test.lib.hotspot.ir_framework">TestFramework</a></span>&nbsp;<span class="element-name">setDefaultWarmup</span>&#8203;<span class="parameters">(int&nbsp;defaultWarmup)</span></div>
<div class="block">Set a new default warm-up (overriding the framework default of 2000 at
 <a href="TestFrameworkExecution.html#WARMUP_ITERATIONS"><code>TestFrameworkExecution.WARMUP_ITERATIONS</code></a>) to be applied for all tests that do not specify an explicit
 warm-up with <a href="Warmup.html" title="annotation in jdk.test.lib.hotspot.ir_framework"><code>@Warmup</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>defaultWarmup</code> - a new non-negative default warm-up.</dd>
<dt>Returns:</dt>
<dd>the same framework instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastTestVMOutput()">
<h3>getLastTestVMOutput</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getLastTestVMOutput</span>()</div>
<div class="block">Get the VM output of the test VM. Use <code>-DVerbose=true</code> to enable more debug information. If scenarios
 were run, use <a href="Scenario.html#getTestVMOutput()"><code>Scenario.getTestVMOutput()</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the last test VM output.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="compile(java.lang.reflect.Method,jdk.test.lib.hotspot.ir_framework.CompLevel)">
<h3>compile</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">compile</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m,
 <a href="CompLevel.html" title="enum class in jdk.test.lib.hotspot.ir_framework">CompLevel</a>&nbsp;compLevel)</span></div>
<div class="block">Compile <code>m</code> at compilation level <code>compLevel</code>. <code>m</code> is first enqueued and might not be compiled,
 yet, upon returning from this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be compiled.</dd>
<dd><code>compLevel</code> - the (valid) compilation level at which the method should be compiled.</dd>
<dt>Throws:</dt>
<dd><code><a href="TestRunException.html" title="class in jdk.test.lib.hotspot.ir_framework">TestRunException</a></code> - if compilation level is <a href="CompLevel.html#SKIP"><code>CompLevel.SKIP</code></a> or <a href="CompLevel.html#WAIT_FOR_COMPILATION"><code>CompLevel.WAIT_FOR_COMPILATION</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deoptimize(java.lang.reflect.Method)">
<h3>deoptimize</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">deoptimize</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</span></div>
<div class="block">Deoptimize <code>m</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be deoptimized.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isCompiled(java.lang.reflect.Method)">
<h3>isCompiled</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCompiled</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</span></div>
<div class="block">Returns a boolean indicating if <code>m</code> is compiled at any level.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be checked.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if <code>m</code> is compiled at any level;
         <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isC1Compiled(java.lang.reflect.Method)">
<h3>isC1Compiled</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isC1Compiled</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</span></div>
<div class="block">Returns a boolean indicating if <code>m</code> is compiled with C1.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be checked.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if <code>m</code> is compiled with C1;
         <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isC2Compiled(java.lang.reflect.Method)">
<h3>isC2Compiled</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isC2Compiled</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</span></div>
<div class="block">Returns a boolean indicating if <code>m</code> is compiled with C2.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be checked.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if <code>m</code> is compiled with C2;
         <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isCompiledAtLevel(java.lang.reflect.Method,jdk.test.lib.hotspot.ir_framework.CompLevel)">
<h3>isCompiledAtLevel</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCompiledAtLevel</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m,
 <a href="CompLevel.html" title="enum class in jdk.test.lib.hotspot.ir_framework">CompLevel</a>&nbsp;compLevel)</span></div>
<div class="block">Returns a boolean indicating if <code>m</code> is compiled at the specified <code>compLevel</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be checked.</dd>
<dd><code>compLevel</code> - the compilation level.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if <code>m</code> is compiled at <code>compLevel</code>;
         <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertCompiled(java.lang.reflect.Method)">
<h3>assertCompiled</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">assertCompiled</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</span></div>
<div class="block">Checks if <code>m</code> is compiled at any level.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be checked.</dd>
<dt>Throws:</dt>
<dd><code><a href="TestRunException.html" title="class in jdk.test.lib.hotspot.ir_framework">TestRunException</a></code> - if <code>m</code> is not compiled at any level.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertNotCompiled(java.lang.reflect.Method)">
<h3>assertNotCompiled</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">assertNotCompiled</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</span></div>
<div class="block">Checks if <code>m</code> is not compiled at any level.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be checked.</dd>
<dt>Throws:</dt>
<dd><code><a href="TestRunException.html" title="class in jdk.test.lib.hotspot.ir_framework">TestRunException</a></code> - if <code>m</code> is compiled at any level.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertCompiledByC1(java.lang.reflect.Method)">
<h3>assertCompiledByC1</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">assertCompiledByC1</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</span></div>
<div class="block">Verifies that <code>m</code> is compiled with C1.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be verified.</dd>
<dt>Throws:</dt>
<dd><code><a href="TestRunException.html" title="class in jdk.test.lib.hotspot.ir_framework">TestRunException</a></code> - if <code>m</code> is not compiled with C1.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertCompiledByC2(java.lang.reflect.Method)">
<h3>assertCompiledByC2</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">assertCompiledByC2</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</span></div>
<div class="block">Verifies that <code>m</code> is compiled with C2.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be checked.</dd>
<dt>Throws:</dt>
<dd><code><a href="TestRunException.html" title="class in jdk.test.lib.hotspot.ir_framework">TestRunException</a></code> - if <code>m</code> is not compiled with C2.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertCompiledAtLevel(java.lang.reflect.Method,jdk.test.lib.hotspot.ir_framework.CompLevel)">
<h3>assertCompiledAtLevel</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">assertCompiledAtLevel</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m,
 <a href="CompLevel.html" title="enum class in jdk.test.lib.hotspot.ir_framework">CompLevel</a>&nbsp;compLevel)</span></div>
<div class="block">Verifies that <code>m</code> is compiled at the specified <code>compLevel</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be checked.</dd>
<dd><code>compLevel</code> - the compilation level.</dd>
<dt>Throws:</dt>
<dd><code><a href="TestRunException.html" title="class in jdk.test.lib.hotspot.ir_framework">TestRunException</a></code> - if <code>m</code> is not compiled at <code>compLevel</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertDeoptimizedByC1(java.lang.reflect.Method)">
<h3>assertDeoptimizedByC1</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">assertDeoptimizedByC1</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</span></div>
<div class="block">Verifies that <code>m</code> was deoptimized after being C1 compiled.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be checked.</dd>
<dt>Throws:</dt>
<dd><code><a href="TestRunException.html" title="class in jdk.test.lib.hotspot.ir_framework">TestRunException</a></code> - if <code>m</code> is was not deoptimized after being C1 compiled.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertDeoptimizedByC2(java.lang.reflect.Method)">
<h3>assertDeoptimizedByC2</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">assertDeoptimizedByC2</span>&#8203;<span class="parameters">(<a href="https://download.java.net/java/early_access/jdk17/docs/api/java.base/java/lang/reflect/Method.html" title="class or interface in java.lang.reflect" class="external-link">Method</a>&nbsp;m)</span></div>
<div class="block">Verifies that <code>m</code> was deoptimized after being C2 compiled.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>m</code> - the method to be checked.</dd>
<dt>Throws:</dt>
<dd><code><a href="TestRunException.html" title="class in jdk.test.lib.hotspot.ir_framework">TestRunException</a></code> - if <code>m</code> is was not deoptimized after being C2 compiled.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
